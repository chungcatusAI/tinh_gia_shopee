
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C√¥ng c·ª• t√≠nh gi√° Shopee - VuongDung</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 2em; }
    .container { background: #fff; max-width: 600px; margin: auto; padding: 2em; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    h1 { color: #b40000; text-align: center; }
    label { display: block; margin-top: 1em; font-weight: bold; }
    input, select { width: 100%; padding: 0.5em; margin-top: 0.3em; }
    button { margin-top: 1.5em; padding: 0.7em 1.5em; background: #b40000; color: #fff; border: none; width: 100%; }
    .result { margin-top: 2em; background: #eee; padding: 1em; border-radius: 8px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>C√¥ng c·ª• t√≠nh gi√° Shopee</h1>
    <label>Gi√° nh·∫≠p (VNƒê)</label>
    <input id="giaNhap" type="number" />

    <label>Chi·∫øt kh·∫•u mua h√†ng (%)</label>
    <input id="chietKhau" type="number" />

    <label>L·ª£i nhu·∫≠n mong mu·ªën (%)</label>
    <input id="loiNhuan" type="number" />

    <label>Gi√° b√°n khuy·∫øn ngh·ªã (n·∫øu c√≥)</label>
    <input id="giaKhuyenNghi" type="number" />

    <label>Ng√†nh h√†ng</label>
    <select id="nganhHang">
      <option value="11.0">ChƒÉm S√≥c Th√∫ C∆∞ng - Th·ª©c ƒÉn cho th√∫ c∆∞ng - 11%</option>
      <option value="10.5">M·∫π & B√© - ChƒÉm s√≥c s·ª©c kh·ªèe m·∫π - 10.5%</option>
      <option value="9.0">M·∫π & B√© - ChƒÉm s√≥c s·ª©c kh·ªèe b√© - 9%</option>
      <option value="9.0">M·∫π & B√© - T√£ & b√¥ em b√© - 9%</option>
      <option value="12.0">S·∫Øc ƒê·∫πp - ChƒÉm s√≥c da m·∫∑t - 12%</option>
      <option value="12.0">S·∫Øc ƒê·∫πp - Trang ƒëi·ªÉm - 12%</option>
      <option value="11.5">S·ª©c Kh·ªèe - ChƒÉm s√≥c c√° nh√¢n - 11.5%</option>
      <option value="10.5">S·ª©c Kh·ªèe - V·∫≠t t∆∞ y t·∫ø - 10.5%</option>
      <option value="11.0">Nh√† c·ª≠a & ƒê·ªùi s·ªëng - Kh√°c - 11%</option>
    </select>

    <label>L√†m tr√≤n ƒë·∫øn h√†ng trƒÉm?</label>
    <select id="lamTron">
      <option value="yes">C√≥</option>
      <option value="no">Kh√¥ng</option>
    </select>

    <label><input type="checkbox" id="contentXtra" /> Tham gia Content Xtra (3%)</label>

    <button onclick="tinhToan()">T√≠nh gi√° b√°n</button>
    <div class="result" id="ketQua"></div>
  </div>

  <script>
    function lamTronGia(gia) {
      return Math.round(gia / 100) * 100;
    }

    function tinhToan() {
      let giaNhap = parseFloat(document.getElementById("giaNhap").value) || 0;
      let chietKhau = parseFloat(document.getElementById("chietKhau").value) || 0;
      let loiNhuan = parseFloat(document.getElementById("loiNhuan").value) || 0;
      let giaKhuyenNghi = parseFloat(document.getElementById("giaKhuyenNghi").value);
      let phiNganh = parseFloat(document.getElementById("nganhHang").value);
      let lamTron = document.getElementById("lamTron").value === "yes";
      let contentXtra = document.getElementById("contentXtra").checked;

      let giaVon = giaNhap * (1 - chietKhau / 100);

      // C√°c lo·∫°i ph√≠
      let phiThanhToan = 0.05;
      let phiVoucher = Math.min((giaKhuyenNghi || 0) * 0.02, 50000); // 2%, t·ªëi ƒëa 50k
      let phiContent = contentXtra ? 0.03 : 0;
      let tongPhi = phiNganh / 100 + phiThanhToan + phiContent;

      let giaBanDeXuat = giaVon * (1 + loiNhuan / 100) / (1 - tongPhi);
      let giaBan = lamTron ? lamTronGia(giaBanDeXuat) : giaBanDeXuat;

      let ketQua = `‚úÖ <b>Gi√° v·ªën:</b> ${giaVon.toLocaleString()}‚Ç´<br>`;
      ketQua += `üìÇ <b>Ph√≠ ng√†nh h√†ng:</b> ${phiNganh}%<br>`;
      ketQua += `üí∏ <b>Ph√≠ Voucher Xtra:</b> ${phiVoucher.toLocaleString()}‚Ç´ (2%, t·ªëi ƒëa 50.000‚Ç´)<br>`;
      ketQua += `üì¶ <b>Ph√≠ thanh to√°n:</b> 5%<br>`;
      if (contentXtra) ketQua += `üé• <b>Ph√≠ Content Xtra:</b> 3%<br>`;

      if (!isNaN(giaKhuyenNghi)) {
        let doanhThu = giaKhuyenNghi * (1 - tongPhi) - phiVoucher;
        let loiNhuanThucTe = doanhThu - giaVon;
        let pt = ((loiNhuanThucTe / giaVon) * 100).toFixed(2);
        ketQua += `‚ö†Ô∏è <b>Gi√° khuy·∫øn ngh·ªã:</b> ${giaKhuyenNghi.toLocaleString()}‚Ç´<br>`;
        ketQua += `<b>L·ª£i nhu·∫≠n th·ª±c t·∫ø:</b> ${pt}%<br>`;
        if (pt < loiNhuan) ketQua += `<b style='color:red;'>‚ùå L·ª£i nhu·∫≠n th·∫•p h∆°n k·ª≥ v·ªçng!</b>`;
      } else {
        ketQua += `üí∞ <b>Gi√° b√°n n√™n ƒë·∫∑t:</b> <span style="color:green">${giaBan.toLocaleString()}‚Ç´</span>`;
      }

      document.getElementById("ketQua").innerHTML = ketQua;
    }
  </script>
</body>
</html>
